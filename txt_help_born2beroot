				  correction born 2 be root 
					Introduction :
Merci de respecter les règles suivantes :


					Guidelines
- Ne notez que ce qui est contenu dans le dépôt Git cloné de l'étudiant ou du groupe.

- Vérifiez que le dépôt Git appartient bien à l'étudiant(e) ou au groupe,
que le projet est bien celui attendu, et que "git clone" est utilisé
dans un dossier vide.

- Vérifiez scrupuleusement qu'aucun alias n'a été utilisé pour vous tromper
et assurez-vous que vous évaluez bien le rendu officiel.

- Afin d'éviter toute surprise, vérifiez avec l'étudiant(e) ou le groupe les
potentiels scripts utilisés pour faciliter l'évaluation (par exemple, des
scripts de tests ou d'automatisation).

- Si vous n'avez pas fait le projet que vous allez évaluer, vous devez lire
le sujet en entier avant de commencer l'évaluation.

- Utilisez les flags disponibles pour signaler un rendu vide, un programme
ne fonctionnant pas, une erreur de Norme, de la triche... Dans ces
situations, l'évaluation est terminée et la note est 0, ou -42 en cas de
triche. Cependant, à l'exception des cas de triche, vous êtes encouragé(e)s
à continuer la discussion sur le travail rendu, même si ce dernier est
incomplet. Ceci afin d'identifier les erreurs à ne pas reproduire dans le
futur.

					Préliminaires
Tests préliminaires
Vérifiez les points suivants :

Les conditions d'accès à la soutenance sont respectées : personne(s) évaluée(s) présente(s), un rendu non vide lui appartenant bien, etc...
Pour ce projet, vous devez cloner le dépôt Git sur l'ordinateur de la personne évaluée.

		Consignes générales
Durant la soutenance, dès que vous avez besoin d'aide pour vérifier un point, la personne évaluée doit vous aider.
Vérifiez que le fichier "signature.txt" est bien présent à la racine du dépôt cloné.
Vérifiez que la signature contenue dans "signature.txt" est identique à celle du fichier ".vdi" de la machine virtuelle à évaluer. Un simple diff doit vous permettre de comparer les deux signatures. Si besoin, demandez à la personne évaluée où se trouve son fichier ".vdi".
Par précaution, vous pouvez dupliquer la machine virtuelle initiale afin d'en garder une copie.
Lancez la machine virtuelle à évaluer.
Si quelque chose ne fonctionne pas comme prévu ou que les deux signatures diffèrent, l'évaluation s'arrête ici.

		Partie obligatoire
Le projet consiste à créer et configurer une machine virtuelle en suivant des règles strictes. La personne évaluée va devoir vous aider durant la soutenance. Assurez-vous que tous les points suivants sont respectés.

Vue d'ensemble du projet
La personne évaluée doit vous expliquer simplement :
Le fonctionnement basique de sa machine virtuelle
Son choix de système d'exploitation
Les différences basiques entre Rocky et Debian
L'intérêt des machines virtuelles
Si le système d'exploitation choisi est Rocky, elle doit vous expliquer ce que sont SELinux et DNF.
Si le système d'exploitation choisi est Debian, elle doit vous expliquer la différence entre aptitude et apt, et ce qu'est APPArmor. Durant la soutenance, un script doit afficher des informations toutes les 10 minutes. Son fonctionnement sera vérifié en détails plus tard. Si les explications ne sont pas claires, l'évaluation s'arrête ici.

		Configuration simple
Rappel : dès que vous avez besoin d'aide pour vérifier un point, la
personne évaluée doit pouvoir vous aider.

Vérifiez que la machine ne possède pas d'environnement graphique au lancement. Un mot de passe sera demandé avant toute tentative de connection sur cette machine. Connectez-vous avec un utilisateur non root. Vérifiez que le mot de passe choisi respecte les règles imposées dans le sujet. Ensuite, avec l'aide de l'évaluateur, assurez-vous que :
Le système d'exploitation choisi est bien Debian ou Rocky
Le service UFW est bien lancé
Le service SSH est bien lancé. Si quelque chose ne fonctionne pas comme prévu ou n'est pas clairement expliqué, l'évaluation s'arrête ici.

		Utilisateur
Rappel : dès que vous avez besoin d'aide pour vérifier un point, la
personne évaluée doit pouvoir vous aider.

Le sujet demande qu'un utilisateur ayant comme nom le login de la
personne évaluée soit présent sur la machine virtuelle. Vérifiez qu'il
a bien été ajouté et qu'il appartient aux groupes "sudo" et "user42".

Assurez-vous les règles imposées dans le sujet concernant la politique
de mot de passe ont bien été mises en place en suivant les étapes
suivantes.
Premièrement, créez un nouvel utilisateur. Assignez-lui un mot de passe
de votre choix en respectant les règles du sujet.
La personne évaluée doit maintenant vous expliquer comment elle a pu
mettre en place les règles demandées dans le sujet sur sa machine
virtuelle.
Normalement, il devrait y avoir un ou deux fichiers modifiés.
S'il y a le moindre problème, l'évaluation s'arrête ici.

Maintenant que vous avez un nouvel utilisateur, demandez à la personne
évaluée de créer un groupe nommé "evaluating" devant vous et de
l'assigner à cet utilisateur.
Enfin, vérifiez que cet utilisateur appartient bien au groupe
"evaluating".

Pour finir, demandez à la personne évaluée de vous exposer l'intérêt
de cette politique de mot de passe, ainsi que les avantages et les
inconvénients de sa mise en place. Bien entendu, répondre que c'est
parce le sujet le demande ne compte pas.
Si quelque chose ne fonctionne pas comme prévu ou n'est pas clairement
expliqué, l'évaluation s'arrête ici.

Hostname et partitions.
Rappel : dès que vous avez besoin d'aide pour vérifier un point, la
personne évaluée doit pouvoir vous aider.

Vérifiez que le hostname de la machine est bien formatté ainsi : login42 (login de la personne évaluée).
Modifiez ce hostname en remplaçant le login par le vôtre, puis relancez la machine. Si au redémarrage, le hostname n'a pas été mis à jour, l'évaluation s'arrête ici.
Vous pouvez maintenant restaurer le hostname original de la machine.
Demandez à la personne évaluée comment afficher les partitions de sa machine virtuelle.
Comparez la sortie avec l'exemple donné dans le sujet. Attention : si la personne évaluée a fait les bonus, il faudra se référer à l'exemple de la partie bonus.
Cette partie est l'occasion de discuter des partitions ! La personne
évaluée doit vous donner une petite explication sur le fonctionnement
et l'intérêt de LVM.
Si quelque chose ne fonctionne pas comme prévu ou n'est pas clairement
expliqué, l'évaluation s'arrête ici.

SUDO
Rappel : dès que vous avez besoin d'aide pour vérifier un point, la
personne évaluée doit pouvoir vous aider.

Vérifiez que le programme "sudo" est bien installé sur la machine virtuelle.
La personne évaluée doit maintenant montrer assigner votre nouvel utilisateur au groupe "sudo".
Le sujet impose des règles strictes pour sudo. La personne évaluée doit, dans premier temps, expliquer l'intérêt et le fonctionnement de sudo par des exemples de son choix. Dans un second temps, elle doit vous démontrer la mise en place des règles imposées par le sujet.
Vérifiez que le dossier "/var/log/sudo/" existe et possède au moins un fichier. Vérifiez le contenu des fichiers de ce dossier, Vous devriez voir un historique des commandes utilisées avec sudo. Enfin, tentez de lancer une commande via sudo. Regardez si le(s) fichier(s) du dossier "/var/log/sudo/" ont été mis à jour. Si quelque chose ne fonctionne pas comme prévu ou n'est pas clairement expliqué, l'évaluation s'arrête ici.
UFW / Firewalld
Rappel : dès que vous avez besoin d'aide pour vérifier un point, la
personne évaluée doit pouvoir vous aider.

Vérifiez que le programme "UFW" (ou "Firewalld" pour rocky) est bien installé sur la machine virtuelle.
Vérifiez qu'il fonctionne correctement.
La personne évaluée doit vous expliquer basiquement ce qu'est UFW (ou "Firewalld") et l'intérêt de l'utiliser.
Listez les règles actives dans UFW (ou "Firewalld"). Une règle doit exister pour le port 4242.
Ajoutez une nouvelle règle pour ouvrir le port 8080. Vérifiez que celle-ci a bien été ajoutée en listant les règles actives.
Pour finir, supprimez cette nouvelle règle avec l'aide de la personne évaluée. Si quelque chose ne fonctionne pas comme prévu ou n'est pas clairement expliqué, l'évaluation s'arrête ici.
SSH
Rappel : dès que vous avez besoin d'aide pour vérifier un point, la
personne évaluée doit pouvoir vous aider.

Vérifiez que le service SSH est bien installé sur la machine virtuelle.
Vérifiez qu'il fonctionne correctement.
La personne évaluée doit vous expliquer basiquement ce qu'est SSH et l'intérêt de l'utiliser.
Vérifiez que le service SSH utilise uniquement le port 4242 dans la machine virtuelle.
La personne évaluée doit vous aider à utiliser SSH afin de vous connecter avec le nouvel utilisateur créé. Pour ce faire, vous pouvez utiliser une clef ou un simple mot de passe. Cela dépendra de la personne évaluée. Bien entendu, vous devez vous assurez que l'on ne peut pas utiliser SSH avec l'utilisateur "root" comme indiqué dans le sujet. Si quelque chose ne fonctionne pas comme prévu ou n'est pas clairement expliqué, l'évaluation s'arrête ici.
Script monitoring
Rappel : dès que vous avez besoin d'aide pour vérifier un point, la
personne évaluée doit pouvoir vous aider.

La personne évaluée doit vous expliquer simplement :

Le fonctionnement de son script en affichant le code de celui-ci
Ce qu'est "cron"
Comment elle a mis en place son script afin qu'il s'exécute toutes les 10 minutes dès le lancement du serveur. Une fois le bon fonctionnement du script vérifié, la personne évaluée doit faire en sorte que ce script s'exécute toute les minutes. Vous pouvez lancer ce que vous souhaitez afin de vous assurer que le script s'exécute correctement avec des valeurs dynamiques. Enfin, la personne évaluée doit faire en sorte que le script cesse de s'exécuter au lancement du serveur, sans toutefois modifier le script en lui-même. Pour vérifier ce point, il faudra redémarrer le serveur une dernière fois. Au démarrage, il faudra bien vérifier que le script existe toujours au même endroit, que ses droits sont restés inchangés, et qu'il n'a pas subi de modification. Si un des points ci-dessus n'est pas correct, l'évaluation s'arrête ici.
Bonus
Les bonus ne seront examinés que si la partie obligatoire est excellente. Cela signifie que la partie obligatoire doit avoir été réalisée du début à la fin, avec une gestion d'erreur parfaite même en cas d'usage inattendu. Si tous les points obligatoires n'ont pas été attribués pendant cette soutenance, aucun point bonus ne sera comptabilisé.

Bonus
Vérifiez avec l'aide du sujet et de la personne évaluée les bonus
disponibles pour ce projet :

La mise en place des partitions vaudra 2 points
La mise en place de WordPress, avec les services listés dans le sujet uniquement, vaudra 2 points
Le service dont le choix est laissé libre vaudra 1 point. Vérifiez et testez le bon fonctionnement et l'implémentation de chaque service supplémentaire. Pour le service bonus dont le choix est laissé libre, la personne évaluée doit vous fournir une explication simple du service et expliquer les raisons de son choix. Attention : NGINX et Apache2 sont interdits.


------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------

Pour installer Debian sans interface graphique en utilisant Virtual Machine Manager (VMM), voici un guide étape par étape :

Pré-requis
Install Virtual Machine Manager (VMM) :
Assurez-vous que VMM est installé sur votre système hôte.
Installez également les dépendances nécessaires telles que libvirt et qemu.
Étapes d'Installation
1. Télécharger l'ISO de Debian

Accédez au site officiel de Debian et téléchargez l'ISO de la version stable (netinst ou CD minimal).
2. Créer une Nouvelle Machine Virtuelle

Lancer Virtual Machine Manager :

Ouvrez VMM à partir de votre menu ou via la ligne de commande :
bash
Copier le code
virt-manager
Créer une Nouvelle VM :

Cliquez sur le bouton Créer une nouvelle machine virtuelle.
Choisir l'ISO :

Sélectionnez Installer depuis un fichier ISO/image.
Parcourez et sélectionnez l'ISO de Debian que vous avez téléchargé.
Configurer le Système :

Nom de la VM : Donnez un nom à votre VM, par exemple "DebianServer".
Type de Système : Choisissez Linux et Debian.
Mémoire et CPU : Allouez une quantité appropriée de mémoire RAM (1024 Mo ou plus) et de CPU (1 ou plus).
Disque Dur Virtuel : Créez un disque virtuel avec une taille suffisante (10 Go ou plus).
Réseau : Utilisez le mode réseau NAT ou Ponté selon vos besoins.
Options Additionnelles :

Décochez l'option Installer l'interface graphique si disponible.
3. Configurer le Démarrage sur l'ISO

Assurez-vous que la VM est configurée pour démarrer à partir de l'ISO de Debian.
4. Lancer la VM et Commencer l'Installation

Démarrer la VM :

Cliquez sur Terminer pour démarrer la VM.
Installation de Debian :

Sélectionnez Install ou Graphical Install dans le menu de démarrage.
Choisissez la langue, le pays et la disposition du clavier.
Configurer le Réseau :

Configurez les paramètres réseau. Généralement, choisir DHCP automatique est suffisant.
Configurer le Nom d'Hôte et le Domaine :

Donnez un nom à votre machine, par exemple debian-server.
Créer un Compte Utilisateur et un Mot de Passe Root :

Configurez un mot de passe pour le compte root.
Créez un utilisateur standard avec un mot de passe.
Partitionnement du Disque :

Utilisez le partitionnement guidé pour plus de simplicité, sélectionnez Utiliser un disque entier.
Choisissez le disque virtuel que vous avez créé.
Sélection des Logiciels :

Lorsque vous arrivez à l'étape de sélection des logiciels, décochez l'option Debian desktop environment.
Assurez-vous que standard system utilities est coché.
Installer le Chargeur de Démarrage GRUB :

Installez GRUB sur le disque principal.
Finaliser l'Installation :

Une fois l'installation terminée, redémarrez la VM.
5. Post-Installation

Connexion à la VM :

Connectez-vous en utilisant les informations d'identification que vous avez configurées.
Mise à Jour du Système :

Mettez à jour le système avec les dernières mises à jour de sécurité :
bash
Copier le code
sudo apt update
sudo apt upgrade
Configurer le Pare-feu :

Installez et configurez ufw :
bash
Copier le code
sudo apt install ufw
sudo ufw enable
sudo ufw allow ssh
Configurer SSH :

Si ce n'est pas fait automatiquement, installez le serveur SSH :
bash
Copier le code
sudo apt install openssh-server
Configurer les Options de Sécurité :

Suivez les meilleures pratiques de sécurité, telles que la désactivation de l'accès root en SSH et la modification du port SSH.
En suivant ces étapes, vous pouvez installer Debian sans interface graphique sur une machine virtuelle en utilisant Virtual Machine Manager.
pour linstaller dans un dossier goinfre comment faire ?
GPT
Pour installer une machine virtuelle (VM) Debian sans interface graphique dans un dossier spécifique (que vous appelez "goinfre") en utilisant Virtual Machine Manager (VMM), vous pouvez suivre les étapes suivantes. L'idée est de configurer VMM pour stocker les disques virtuels et autres fichiers liés à la VM dans ce dossier.

Étapes d'Installation
1. Préparation de l'Environnement

Créer le dossier "goinfre" :

Créez le dossier où vous souhaitez stocker les fichiers de la VM. Par exemple :
bash
Copier le code
mkdir -p /path/to/goinfre
Assurez-vous que votre utilisateur dispose des droits nécessaires :

Modifiez les permissions pour que votre utilisateur (ou le service libvirt) puisse accéder à ce dossier :
bash
Copier le code
sudo chown -R $USER:$USER /path/to/goinfre
2. Télécharger l'ISO de Debian

Accédez au site officiel de Debian et téléchargez l'ISO de la version stable (netinst ou CD minimal).
3. Configurer Virtual Machine Manager

Lancer Virtual Machine Manager :

Ouvrez VMM à partir de votre menu ou via la ligne de commande :
bash
Copier le code
virt-manager
Configurer le Répertoire de Stockage dans VMM :

Ajouter un Nouveau Pool de Stockage :

Cliquez sur Edit > Connection Details > Storage > + (Ajouter un pool de stockage).
Donnez un nom au pool, par exemple goinfre.
Sélectionnez Filesystem Directory et cliquez sur Forward.
Entrez le chemin vers votre dossier goinfre, par exemple /path/to/goinfre.
Cliquez sur Finish pour créer le pool.
Activer et Démarrer le Pool :

Cliquez sur le pool goinfre que vous venez de créer.
Cliquez sur Start Pool pour l'activer.
Cliquez sur Autostart pour s'assurer qu'il démarre automatiquement à chaque démarrage de VMM.
4. Créer une Nouvelle Machine Virtuelle

Créer la VM :

Cliquez sur Create a new virtual machine.
Choisir l'ISO :

Sélectionnez Local install media (ISO image or CDROM).
Parcourez et sélectionnez l'ISO de Debian que vous avez téléchargé.
Configurer la VM :

Name : Donnez un nom à votre VM, par exemple "DebianServer".
Operating System : Sélectionnez Linux et Debian.
Memory and CPU : Allouez une quantité appropriée de mémoire RAM (1024 Mo ou plus) et de CPU (1 ou plus).
Storage : Quand vous arrivez à l'option de stockage, choisissez Select or create custom storage.
Cliquez sur Manage... et ensuite New Volume.
Dans Storage Volumes, sélectionnez le pool goinfre que vous avez créé.
Donnez un nom au volume (par exemple debian-server.qcow2) et définissez la taille (10 Go ou plus).
Cliquez sur Finish pour créer le volume.
Sélectionnez le volume nouvellement créé pour l'utiliser comme disque principal de la VM.
Configurer le Réseau :

Utilisez le mode réseau NAT ou Ponté selon vos besoins.
Finaliser la Création de la VM :

Décochez Customize configuration before install.
Cliquez sur Finish pour commencer l'installation de Debian.
5. Installation de Debian

Démarrer la VM :

La VM démarrera automatiquement avec l'ISO de Debian.
Suivre les Étapes de l'Installation :

Sélectionnez Install ou Graphical Install.
Suivez les instructions pour configurer la langue, le pays, et le clavier.
Configurez le réseau, le nom d'hôte, et le domaine.
Créez un compte utilisateur et définissez un mot de passe root.
Partitionnez le disque, en utilisant le disque virtuel que vous avez créé dans le dossier goinfre.
Décochez Debian desktop environment pour installer Debian sans interface graphique, mais assurez-vous de sélectionner standard system utilities.
Finaliser l'Installation :

Installez GRUB sur le disque principal.
Redémarrez la VM une fois l'installation terminée.
6. Post-Installation

Connexion à la VM :

Connectez-vous avec les informations d'identification que vous avez configurées.
Mise à Jour du Système :

Mettez à jour le système avec les dernières mises à jour de sécurité :
bash
Copier le code
sudo apt update
sudo apt upgrade
Configurer le Pare-feu :

Installez et configurez ufw :
bash
Copier le code
sudo apt install ufw
sudo ufw enable
sudo ufw allow ssh
Configurer SSH :

Si ce n'est pas fait automatiquement, installez le serveur SSH :
bash
Copier le code
sudo apt install openssh-server
En suivant ces étapes, vous aurez installé Debian sans interface graphique dans le dossier goinfre en utilisant Virtual Machine Manager.



